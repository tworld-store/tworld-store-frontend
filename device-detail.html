<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ê¸°ê¸° ìƒì„¸ ì •ë³´ ë° ìš”ê¸ˆì œ ì„ íƒ">
    <meta name="keywords" content="ìŠ¤ë§ˆíŠ¸í°, ìš”ê¸ˆì œ, í• ì¸, ê¸°ê¸°ë³€ê²½">
    <title>ê¸°ê¸° ìƒì„¸ - T World Store</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="main.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    
    <!-- ============================================ -->
    <!-- 1. í—¤ë” (ê³ ì • ë„¤ë¹„ê²Œì´ì…˜) -->
    <!-- ============================================ -->
    <header class="header">
        <div class="container">
            <div class="header-inner">
                <!-- ë¡œê³  -->
                <a href="index.html" class="logo">
                    <span style="color: var(--color-primary);">T</span>
                    <span>World Store</span>
                </a>
                
                <!-- ë°ìŠ¤í¬íƒ‘ ë„¤ë¹„ê²Œì´ì…˜ -->
                <nav class="nav hide-mobile">
                    <a href="devices.html" class="nav-link">ê¸°ê¸°</a>
                    <a href="plans.html" class="nav-link">ìš”ê¸ˆì œ</a>
                    <a href="device-detail.html" class="nav-link active">ìƒì„¸ë³´ê¸°</a>
                    <a href="contact.html" class="btn btn-primary btn-sm">ìƒë‹´ì‹ ì²­</a>
                </nav>
                
                <!-- ëª¨ë°”ì¼ ë©”ë‰´ ë²„íŠ¼ -->
                <button class="hide-desktop" onclick="toggleMobileMenu()" aria-label="ë©”ë‰´">
                    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
        
        <!-- ëª¨ë°”ì¼ ë©”ë‰´ (ìˆ¨ê¹€) -->
        <div id="mobile-menu" class="hidden" style="background: white; border-top: 1px solid var(--color-border-gray); padding: 1rem 0;">
            <div class="container">
                <nav style="display: flex; flex-direction: column; gap: 0.5rem;">
                    <a href="devices.html" class="nav-link" style="padding: 0.5rem 0;">ê¸°ê¸°</a>
                    <a href="plans.html" class="nav-link" style="padding: 0.5rem 0;">ìš”ê¸ˆì œ</a>
                    <a href="device-detail.html" class="nav-link active" style="padding: 0.5rem 0;">ìƒì„¸ë³´ê¸°</a>
                    <a href="contact.html" class="btn btn-primary" style="margin-top: 0.5rem;">ìƒë‹´ì‹ ì²­</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- ============================================ -->
    <!-- 2. ë©”ì¸ ì»¨í…ì¸  -->
    <!-- ============================================ -->
    <main class="section">
        <div class="container">
            
            <!-- ========================================== -->
            <!-- ìƒë‹¨: ì¢Œìš° 2ì—´ ê·¸ë¦¬ë“œ -->
            <!-- ========================================== -->
            <div class="grid grid-2" style="gap: 3rem; align-items: start; margin-bottom: 5rem;">
                
                <!-- ì¢Œì¸¡: ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬ (Sticky) -->
                <div style="position: sticky; top: 6rem;">
                    <!-- í° ì´ë¯¸ì§€ -->
                    <div id="main-image" style="width: 100%; aspect-ratio: 1; background: var(--color-gray-100); border-radius: var(--radius-xl); overflow: hidden; margin-bottom: 1rem; display: flex; align-items: center; justify-content: center;">
                        <span style="font-size: 6rem;">ğŸ“±</span>
                    </div>
                    
                    <!-- ì¸ë„¤ì¼ ë¦¬ìŠ¤íŠ¸ (4ê°œ) -->
                    <div id="thumbnail-list" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 0.5rem;">
                        <!-- JavaScriptë¡œ ìƒì„± -->
                    </div>
                </div>

                <!-- ìš°ì¸¡: ì˜µì…˜ ì„ íƒ -->
                <div>
                    <!-- ì œí’ˆëª… + ì¶œê³ ê°€ -->
                    <h1 class="text-3xl font-bold mb-2" id="device-name">ê°¤ëŸ­ì‹œ S24</h1>
                    <p class="mb-4" style="color: var(--color-text-gray); font-size: 1.125rem;" id="device-brand">ì‚¼ì„±ì „ì</p>
                    <p class="text-2xl font-bold mb-8">
                        ì¶œê³ ê°€ <strong id="factory-price" style="color: var(--color-primary);">1,200,000ì›</strong>
                    </p>

                    <!-- ìƒ‰ìƒ ì„ íƒ -->
                    <div class="card mb-4">
                        <h3 class="font-bold mb-3" style="font-size: 1.125rem;">ìƒ‰ìƒ ì„ íƒ</h3>
                        <div id="color-selector" style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                            <!-- JavaScriptë¡œ ìƒì„± -->
                        </div>
                    </div>

                    <!-- ìš©ëŸ‰ ì„ íƒ -->
                    <div class="card mb-4">
                        <h3 class="font-bold mb-3" style="font-size: 1.125rem;">ìš©ëŸ‰ ì„ íƒ</h3>
                        <div id="capacity-selector" style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                            <!-- JavaScriptë¡œ ìƒì„± -->
                        </div>
                    </div>

                    <!-- ê°€ì…ìœ í˜• ì„ íƒ -->
                    <div class="card mb-4">
                        <h3 class="font-bold mb-3" style="font-size: 1.125rem;">ê°€ì…ìœ í˜•</h3>
                        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                            <button onclick="selectJoinType('ê¸°ê¸°ë³€ê²½')" class="option-btn active" data-type="ê¸°ê¸°ë³€ê²½">ê¸°ê¸°ë³€ê²½</button>
                            <button onclick="selectJoinType('ë²ˆí˜¸ì´ë™')" class="option-btn" data-type="ë²ˆí˜¸ì´ë™">ë²ˆí˜¸ì´ë™</button>
                            <button onclick="selectJoinType('ì‹ ê·œê°€ì…')" class="option-btn" data-type="ì‹ ê·œê°€ì…">ì‹ ê·œê°€ì…</button>
                        </div>
                    </div>

                    <!-- ìš”ê¸ˆì œ ì„ íƒ -->
                    <div class="card mb-4">
                        <h3 class="font-bold mb-3" style="font-size: 1.125rem;">ìš”ê¸ˆì œ</h3>
                        <div id="selected-plan-display" style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--color-bg-gray); border-radius: var(--radius-md);">
                            <div>
                                <div class="font-bold mb-1" id="plan-name">5GX í”Œë˜í‹°ë„˜</div>
                                <div style="color: var(--color-text-gray); font-size: 0.875rem;" id="plan-price">69,000ì›/ì›”</div>
                            </div>
                            <button onclick="openPlanModal()" class="btn btn-sm btn-outline">ë³€ê²½í•˜ê¸°</button>
                        </div>
                    </div>

                    <!-- í• ë¶€ê¸°ê°„ ì„ íƒ -->
                    <div class="card mb-4">
                        <h3 class="font-bold mb-3" style="font-size: 1.125rem;">í• ë¶€ê¸°ê°„</h3>
                        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                            <button onclick="selectInstallment(0)" class="option-btn" data-period="0">ì¼ì‹œë¶ˆ</button>
                            <button onclick="selectInstallment(12)" class="option-btn" data-period="12">12ê°œì›”</button>
                            <button onclick="selectInstallment(24)" class="option-btn active" data-period="24">24ê°œì›”</button>
                            <button onclick="selectInstallment(36)" class="option-btn" data-period="36">36ê°œì›”</button>
                        </div>
                    </div>

                    <!-- â˜… í• ì¸ ë°©ë²• ì„ íƒ (ì•½ì • ì„ íƒ) â˜… -->
                    <div class="card mb-4">
                        <h3 class="font-bold mb-3" style="font-size: 1.125rem;">í• ì¸ ë°©ë²•</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div class="discount-option active" onclick="selectDiscountType('phone')">
                                <input type="radio" name="discount_type" value="phone" checked hidden>
                                <div class="font-bold mb-1">íœ´ëŒ€í° ê°€ê²© í• ì¸ (ì§€ì›ê¸ˆì•½ì •)</div>
                                <div style="color: var(--color-text-gray); font-size: 0.875rem;">ê³µì‹œì§€ì›ê¸ˆìœ¼ë¡œ íœ´ëŒ€í° ê°€ê²©ì„ í• ì¸ë°›ëŠ” ë°©ë²•</div>
                            </div>
                            <div class="discount-option" onclick="selectDiscountType('charge')">
                                <input type="radio" name="discount_type" value="charge" hidden>
                                <div class="font-bold mb-1">í†µì‹ ìš”ê¸ˆ 25% í• ì¸ (ì„ íƒì•½ì •)</div>
                                <div style="color: var(--color-text-gray); font-size: 0.875rem;">ì„ íƒì•½ì •ìœ¼ë¡œ í†µì‹ ìš”ê¸ˆì„ í• ì¸ë°›ëŠ” ë°©ë²•</div>
                            </div>
                        </div>
                    </div>

                    <!-- ì¸í„°ë„·+TV -->
                    <div class="card mb-4">
                        <h3 class="font-bold mb-3" style="font-size: 1.125rem;">ì¸í„°ë„·+TV</h3>
                        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                            <button onclick="selectInternet('ì‹ ì²­ì•ˆí•¨')" class="option-btn active" data-type="ì‹ ì²­ì•ˆí•¨">ì‹ ì²­ì•ˆí•¨</button>
                            <button onclick="selectInternet('ìƒë‹´ì‹ ì²­')" class="option-btn" data-type="ìƒë‹´ì‹ ì²­">ìƒë‹´ì‹ ì²­</button>
                        </div>
                    </div>

                    <!-- â˜… ê°€ê²© í‘œì‹œ ë°•ìŠ¤ â˜… -->
                    <div class="card" style="background: var(--color-bg-gray); border: 2px solid var(--color-primary);">
                        <h3 class="font-bold mb-4" style="font-size: 1.25rem;">ìš”ê¸ˆ</h3>
                        
                        <!-- ì›” íœ´ëŒ€í° ìš”ê¸ˆ -->
                        <div style="padding: 1rem; background: white; border-radius: var(--radius-md); margin-bottom: 1rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 2px solid var(--color-gray-200);">
                                <strong style="font-size: 1.125rem;">ì›” íœ´ëŒ€í° ìš”ê¸ˆ</strong>
                                <strong style="font-size: 1.5rem; color: var(--color-primary);" id="phone-month-total">41,890ì›</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.875rem;">
                                <span style="color: var(--color-text-gray);">ì¶œê³ ê°€</span>
                                <span id="display-factory-price">1,200,000ì›</span>
                            </div>
                            <div id="common-subsidy-row" style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.875rem;">
                                <span style="color: var(--color-text-gray);">ê³µí†µì§€ì›ê¸ˆ</span>
                                <span style="color: var(--color-danger);" id="display-common-subsidy">-300,000ì›</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.875rem;">
                                <span style="color: var(--color-text-gray);">ì¶”ê°€ì§€ì›ê¸ˆ</span>
                                <span style="color: var(--color-danger);" id="display-additional-subsidy">-200,000ì›</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-size: 0.875rem;">
                                <span style="color: var(--color-text-gray);">í• ë¶€ì›ê¸ˆ</span>
                                <span id="display-installment-principal">700,000ì›</span>
                            </div>
                        </div>

                        <!-- ì›” í†µì‹ ìš”ê¸ˆ -->
                        <div style="padding: 1rem; background: white; border-radius: var(--radius-md); margin-bottom: 1rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 2px solid var(--color-gray-200);">
                                <strong style="font-size: 1.125rem;">ì›” í†µì‹ ìš”ê¸ˆ</strong>
                                <strong style="font-size: 1.5rem; color: var(--color-primary);" id="charge-month-total">69,000ì›</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.875rem;">
                                <span style="color: var(--color-text-gray);">ìš”ê¸ˆì œ ì›” ê¸°ë³¸ë£Œ</span>
                                <span id="display-plan-price">69,000ì›</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-size: 0.875rem;">
                                <span style="color: var(--color-text-gray);">ìš”ê¸ˆí• ì¸</span>
                                <span style="color: var(--color-danger);" id="display-plan-discount">0ì›</span>
                            </div>
                        </div>

                        <!-- ì›” ì˜ˆìƒ ë‚©ë¶€ ê¸ˆì•¡ -->
                        <div style="padding: 1.5rem; background: var(--color-primary); color: white; border-radius: var(--radius-md); text-align: center;">
                            <div style="font-size: 1rem; margin-bottom: 0.5rem; opacity: 0.9;">ì›” ì˜ˆìƒ ë‚©ë¶€ ê¸ˆì•¡</div>
                            <div style="font-size: 2rem; font-weight: 700;" id="total-month-payment">110,890ì›</div>
                            <div style="font-size: 0.875rem; margin-top: 0.5rem; opacity: 0.8;">(ë¶€ê°€ì„¸ í¬í•¨)</div>
                        </div>
                    </div>

                    <!-- í•˜ë‹¨ ë²„íŠ¼ -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 2rem;" class="hide-mobile">
                        <button onclick="openConsultModal()" class="btn btn-secondary btn-lg">ìƒë‹´ì‹ ì²­</button>
                        <button onclick="orderProduct()" class="btn btn-primary btn-lg">ì£¼ë¬¸í•˜ê¸°</button>
                    </div>

                </div>
            </div>

            <!-- ========================================== -->
            <!-- í•˜ë‹¨: ìƒí’ˆ ìƒì„¸ ì´ë¯¸ì§€ (ì „ì²´ ë„ˆë¹„) -->
            <!-- ========================================== -->
            <div id="product-detail-images" style="max-width: 860px; margin: 0 auto;">
                <h2 class="text-2xl font-bold mb-4 text-center">ìƒí’ˆ ìƒì„¸</h2>
                <!-- JavaScriptë¡œ ê¸´ í”„ë¡œëª¨ì…˜ ì´ë¯¸ì§€ë“¤ ìƒì„± -->
                <div style="display: flex; flex-direction: column; gap: 1rem;">
                    <!-- Placeholder -->
                    <div style="width: 100%; aspect-ratio: 860/1200; background: var(--color-gray-100); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center;">
                        <span style="font-size: 3rem;">ğŸ</span>
                    </div>
                    <div style="width: 100%; aspect-ratio: 860/1200; background: var(--color-gray-100); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center;">
                        <span style="font-size: 3rem;">ğŸ’</span>
                    </div>
                    <div style="width: 100%; aspect-ratio: 860/1200; background: var(--color-gray-100); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center;">
                        <span style="font-size: 3rem;">ğŸ¯</span>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- ============================================ -->
    <!-- 3. í•˜ë‹¨ ê³ ì •ë°” (ëª¨ë°”ì¼) -->
    <!-- ============================================ -->
    <div class="hide-desktop" style="position: fixed; bottom: 0; left: 0; right: 0; background: white; box-shadow: 0 -4px 6px rgba(0,0,0,0.1); z-index: 100; padding: 1rem;">
        <div style="display: flex; flex-direction: column; gap: 0.75rem; margin-bottom: 0.75rem;">
            <div style="display: flex; justify-content: space-between; font-size: 0.875rem;">
                <span>ì›” íœ´ëŒ€í°:</span>
                <strong id="mobile-phone-price" style="color: var(--color-primary);">41,890ì›</strong>
            </div>
            <div style="display: flex; justify-content: space-between; font-size: 0.875rem;">
                <span>ì›” í†µì‹ :</span>
                <strong id="mobile-charge-price" style="color: var(--color-primary);">69,000ì›</strong>
            </div>
            <div style="display: flex; justify-content: space-between; padding-top: 0.75rem; border-top: 1px solid var(--color-gray-200);">
                <span class="font-bold">ì›” ì´ì•¡:</span>
                <strong id="mobile-total-price" style="font-size: 1.25rem; color: var(--color-accent-red);">110,890ì›</strong>
            </div>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem;">
            <button onclick="openConsultModal()" class="btn btn-secondary">ìƒë‹´ì‹ ì²­</button>
            <button onclick="orderProduct()" class="btn btn-primary">ì£¼ë¬¸í•˜ê¸°</button>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- 4. ìš”ê¸ˆì œ ì„ íƒ íŒì—… -->
    <!-- ============================================ -->
    <div id="plan-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
        <div style="background: white; border-radius: var(--radius-xl); width: 90%; max-width: 600px; max-height: 80vh; overflow: hidden; display: flex; flex-direction: column;">
            <!-- í—¤ë” -->
            <div style="padding: 1.5rem; border-bottom: 1px solid var(--color-border-gray); display: flex; justify-content: space-between; align-items: center;">
                <h2 class="text-2xl font-bold">ìš”ê¸ˆì œ ì„ íƒí•˜ê¸°</h2>
                <button onclick="closePlanModal()" style="font-size: 2rem; color: var(--color-text-gray); background: none; border: none; cursor: pointer;">&times;</button>
            </div>
            
            <!-- ì¹´í…Œê³ ë¦¬ íƒ­ -->
            <div style="padding: 1rem; border-bottom: 1px solid var(--color-border-gray); display: flex; gap: 0.5rem; overflow-x: auto;">
                <button onclick="filterPlans('5GX')" class="plan-category-btn active" data-category="5GX">#5GX í”Œëœ</button>
                <button onclick="filterPlans('YOUTH')" class="plan-category-btn" data-category="YOUTH">#ë§Œ 34ì„¸ ì´í•˜ 5G</button>
                <button onclick="filterPlans('TEEN')" class="plan-category-btn" data-category="TEEN">#5G ì²­ì†Œë…„</button>
                <button onclick="filterPlans('SENIOR')" class="plan-category-btn" data-category="SENIOR">#ì‹œë‹ˆì–´ 5G</button>
            </div>
            
            <!-- ìš”ê¸ˆì œ ë¦¬ìŠ¤íŠ¸ -->
            <div id="plan-list" style="flex: 1; overflow-y: auto; padding: 1rem;">
                <!-- JavaScriptë¡œ ìƒì„± -->
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- 5. í‘¸í„° -->
    <!-- ============================================ -->
    <footer class="footer" style="margin-top: 5rem;">
        <div class="container">
            <div class="footer-content">
                <!-- íšŒì‚¬ ì •ë³´ -->
                <div>
                    <h3 class="footer-section-title">T World Store</h3>
                    <p style="margin-bottom: 1rem;">
                        SKT ê³µì‹ ì˜¨ë¼ì¸ ìŠ¤í† ì–´<br>
                        ë¯¿ì„ ìˆ˜ ìˆëŠ” í†µì‹  ì„œë¹„ìŠ¤
                    </p>
                </div>
                
                <!-- ë°”ë¡œê°€ê¸° -->
                <div>
                    <h4 class="footer-section-title">ë°”ë¡œê°€ê¸°</h4>
                    <a href="devices.html" class="footer-link">ê¸°ê¸°</a>
                    <a href="plans.html" class="footer-link">ìš”ê¸ˆì œ</a>
                    <a href="contact.html" class="footer-link">ìƒë‹´ì‹ ì²­</a>
                    <a href="about.html" class="footer-link">íšŒì‚¬ì†Œê°œ</a>
                </div>
                
                <!-- ê³ ê°ì„¼í„° -->
                <div>
                    <h4 class="footer-section-title">ê³ ê°ì„¼í„°</h4>
                    <p style="margin-bottom: 0.5rem;">
                        <strong>1588-0000</strong>
                    </p>
                    <p style="font-size: 0.875rem; margin-bottom: 1rem;">
                        í‰ì¼ 09:00 - 18:00<br>
                        ì£¼ë§ ë° ê³µíœ´ì¼ íœ´ë¬´
                    </p>
                </div>
                
                <!-- ë²•ì  ê³ ì§€ -->
                <div>
                    <h4 class="footer-section-title">ë²•ì  ê³ ì§€</h4>
                    <a href="privacy.html" class="footer-link">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                    <a href="terms.html" class="footer-link">ì´ìš©ì•½ê´€</a>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 T World Store. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- ============================================ -->
    <!-- JavaScript -->
    <!-- ============================================ -->
    <script src="api.js"></script>
    <script src="common.js"></script>
    <script>
        /**
         * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         * device-detail.html ì „ìš© ìŠ¤í¬ë¦½íŠ¸
         * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         */
        
        // ì „ì—­ ë³€ìˆ˜
        let currentState = {
            color: 'BLACK',
            capacity: '256GB',
            joinType: 'ê¸°ê¸°ë³€ê²½',
            plan: { id: '5GX_PRIME', name: '5GX í”Œë˜í‹°ë„˜', price: 69000 },
            installment: 24,
            discountType: 'phone', // 'phone' or 'charge'
            internet: 'ì‹ ì²­ì•ˆí•¨'
        };
        
        // ëª¨ë°”ì¼ ë©”ë‰´ í† ê¸€
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            if (menu) {
                menu.classList.toggle('hidden');
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            initializePage();
            calculatePrice();
        });
        
        /**
         * í˜ì´ì§€ ì´ˆê¸°í™”
         */
        function initializePage() {
            // ìƒ‰ìƒ ì˜µì…˜ ìƒì„±
            const colors = [
                { value: 'BLACK', label: 'íŒ¬í…€ë¸”ë™', hex: '#000000' },
                { value: 'GRAY', label: 'íŒ¬í…€ê·¸ë ˆì´', hex: '#757380' },
                { value: 'CREAM', label: 'í¬ë¦¼', hex: '#F5F5DC' }
            ];
            
            const colorSelector = document.getElementById('color-selector');
            if (colorSelector) {
                colorSelector.innerHTML = colors.map(color => `
                    <button onclick="selectColor('${color.value}')" class="option-btn ${color.value === 'BLACK' ? 'active' : ''}" data-color="${color.value}" style="display: flex; align-items: center; gap: 0.5rem;">
                        <span style="width: 24px; height: 24px; border-radius: 50%; background: ${color.hex}; border: 2px solid var(--color-gray-300);"></span>
                        ${color.label}
                    </button>
                `).join('');
            }
            
            // ìš©ëŸ‰ ì˜µì…˜ ìƒì„±
            const capacities = ['256GB', '512GB', '1TB'];
            const capacitySelector = document.getElementById('capacity-selector');
            if (capacitySelector) {
                capacitySelector.innerHTML = capacities.map((cap, idx) => `
                    <button onclick="selectCapacity('${cap}')" class="option-btn ${idx === 0 ? 'active' : ''}" data-capacity="${cap}">${cap}</button>
                `).join('');
            }
            
            // ì¸ë„¤ì¼ ìƒì„±
            const thumbnailList = document.getElementById('thumbnail-list');
            if (thumbnailList) {
                thumbnailList.innerHTML = Array(4).fill(null).map((_, idx) => `
                    <div style="aspect-ratio: 1; background: var(--color-gray-100); border-radius: var(--radius-md); cursor: pointer; border: 2px solid ${idx === 0 ? 'var(--color-primary)' : 'transparent'}; display: flex; align-items: center; justify-content: center;">
                        <span style="font-size: 2rem;">ğŸ“±</span>
                    </div>
                `).join('');
            }
        }
        
        /**
         * ìƒ‰ìƒ ì„ íƒ
         */
        function selectColor(color) {
            currentState.color = color;
            updateActiveButton('color-selector', `[data-color="${color}"]`);
        }
        
        /**
         * ìš©ëŸ‰ ì„ íƒ
         */
        function selectCapacity(capacity) {
            currentState.capacity = capacity;
            updateActiveButton('capacity-selector', `[data-capacity="${capacity}"]`);
        }
        
        /**
         * ê°€ì…ìœ í˜• ì„ íƒ
         */
        function selectJoinType(type) {
            currentState.joinType = type;
            updateActiveButton(null, `.option-btn[data-type="${type}"]`);
            calculatePrice();
        }
        
        /**
         * í• ë¶€ê¸°ê°„ ì„ íƒ
         */
        function selectInstallment(months) {
            currentState.installment = months;
            updateActiveButton(null, `.option-btn[data-period="${months}"]`);
            calculatePrice();
        }
        
        /**
         * í• ì¸ë°©ë²• ì„ íƒ (ì•½ì • ì„ íƒ)
         */
        function selectDiscountType(type) {
            currentState.discountType = type;
            
            // í™œì„±í™” ìƒíƒœ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.discount-option').forEach(opt => {
                opt.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // ë¼ë””ì˜¤ ë²„íŠ¼ ì—…ë°ì´íŠ¸
            document.querySelectorAll('input[name="discount_type"]').forEach(radio => {
                radio.checked = (radio.value === type);
            });
            
            calculatePrice();
        }
        
        /**
         * ì¸í„°ë„·+TV ì„ íƒ
         */
        function selectInternet(type) {
            currentState.internet = type;
            updateActiveButton(null, `.option-btn[data-type="${type}"]`);
        }
        
        /**
         * ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ì—…ë°ì´íŠ¸
         */
        function updateActiveButton(containerId, selector) {
            const container = containerId ? document.getElementById(containerId) : document;
            if (!container) return;
            
            container.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const targetBtn = container.querySelector(selector);
            if (targetBtn) {
                targetBtn.classList.add('active');
            }
        }
        
        /**
         * ê°€ê²© ê³„ì‚°
         */
        function calculatePrice() {
            const factoryPrice = 1200000; // ì¶œê³ ê°€
            const commonSubsidy = 300000; // ê³µí†µì§€ì›ê¸ˆ
            const additionalSubsidy = 200000; // ì¶”ê°€ì§€ì›ê¸ˆ
            const selectSubsidy = 400000; // ì„ ì•½ì§€ì›ê¸ˆ
            const planPrice = currentState.plan.price; // ìš”ê¸ˆì œ ê¸°ë³¸ë£Œ
            
            let phoneMonthly, chargeMonthly, totalMonthly;
            let displayCommonSubsidy, displayAdditionalSubsidy;
            
            if (currentState.discountType === 'phone') {
                // ì§€ì›ê¸ˆì•½ì •
                const totalSubsidy = commonSubsidy + additionalSubsidy;
                const installmentPrincipal = factoryPrice - totalSubsidy;
                phoneMonthly = currentState.installment > 0 
                    ? Math.round(installmentPrincipal / currentState.installment)
                    : 0;
                chargeMonthly = planPrice;
                displayCommonSubsidy = commonSubsidy;
                displayAdditionalSubsidy = additionalSubsidy;
                
                // ê³µí†µì§€ì›ê¸ˆ í–‰ í‘œì‹œ
                document.getElementById('common-subsidy-row').style.display = 'flex';
                
            } else {
                // ì„ íƒì•½ì •
                const installmentPrincipal = factoryPrice - selectSubsidy;
                phoneMonthly = currentState.installment > 0 
                    ? Math.round(installmentPrincipal / currentState.installment)
                    : 0;
                const discount = Math.round(planPrice * 0.25);
                chargeMonthly = planPrice - discount;
                displayCommonSubsidy = 0;
                displayAdditionalSubsidy = selectSubsidy; // ì„ ì•½ì§€ì›ê¸ˆì„ ì¶”ê°€ì§€ì›ê¸ˆìœ¼ë¡œ í‘œì‹œ
                
                // ê³µí†µì§€ì›ê¸ˆ í–‰ ìˆ¨ê¹€
                document.getElementById('common-subsidy-row').style.display = 'none';
                
                // ìš”ê¸ˆí• ì¸ í‘œì‹œ
                document.getElementById('display-plan-discount').textContent = `-${formatNumber(discount)}ì›`;
            }
            
            totalMonthly = phoneMonthly + chargeMonthly;
            
            // í™”ë©´ ì—…ë°ì´íŠ¸
            document.getElementById('phone-month-total').textContent = formatNumber(phoneMonthly) + 'ì›';
            document.getElementById('charge-month-total').textContent = formatNumber(chargeMonthly) + 'ì›';
            document.getElementById('total-month-payment').textContent = formatNumber(totalMonthly) + 'ì›';
            
            document.getElementById('display-factory-price').textContent = formatNumber(factoryPrice) + 'ì›';
            document.getElementById('display-common-subsidy').textContent = `-${formatNumber(displayCommonSubsidy)}ì›`;
            document.getElementById('display-additional-subsidy').textContent = `-${formatNumber(displayAdditionalSubsidy)}ì›`;
            document.getElementById('display-installment-principal').textContent = formatNumber(factoryPrice - displayCommonSubsidy - displayAdditionalSubsidy) + 'ì›';
            document.getElementById('display-plan-price').textContent = formatNumber(planPrice) + 'ì›';
            
            if (currentState.discountType === 'phone') {
                document.getElementById('display-plan-discount').textContent = '0ì›';
            }
            
            // ëª¨ë°”ì¼ í•˜ë‹¨ë°” ì—…ë°ì´íŠ¸
            document.getElementById('mobile-phone-price').textContent = formatNumber(phoneMonthly) + 'ì›';
            document.getElementById('mobile-charge-price').textContent = formatNumber(chargeMonthly) + 'ì›';
            document.getElementById('mobile-total-price').textContent = formatNumber(totalMonthly) + 'ì›';
        }
        
        /**
         * ìˆ«ì í¬ë§·íŒ…
         */
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        }
        
        /**
         * ìš”ê¸ˆì œ íŒì—… ì—´ê¸°
         */
        function openPlanModal() {
            const modal = document.getElementById('plan-modal');
            if (modal) {
                modal.style.display = 'flex';
                loadPlans();
            }
        }
        
        /**
         * ìš”ê¸ˆì œ íŒì—… ë‹«ê¸°
         */
        function closePlanModal() {
            const modal = document.getElementById('plan-modal');
            if (modal) {
                modal.style.display = 'none';
            }
        }
        
        /**
         * ìš”ê¸ˆì œ ëª©ë¡ ë¡œë“œ
         */
        function loadPlans() {
            const planList = document.getElementById('plan-list');
            if (!planList) return;
            
            // Placeholder ìš”ê¸ˆì œ
            const plans = [
                { id: '5GX_PRIME', category: '5GX', name: '5GX í”Œë˜í‹°ë„˜', price: 99000, data: 'ë¬´ì œí•œ' },
                { id: '5GX_STANDARD', category: '5GX', name: '5GX ìŠ¤íƒ ë‹¤ë“œ', price: 79000, data: 'ë¬´ì œí•œ' },
                { id: '5GX_LITE', category: '5GX', name: '5GX ë¼ì´íŠ¸', price: 69000, data: 'ë¬´ì œí•œ' }
            ];
            
            planList.innerHTML = plans.map(plan => `
                <div onclick="selectPlanFromModal('${plan.id}', '${plan.name}', ${plan.price})" style="padding: 1rem; border: 2px solid var(--color-gray-200); border-radius: var(--radius-md); margin-bottom: 0.75rem; cursor: pointer; transition: all 0.2s;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                        <strong style="font-size: 1.125rem;">${plan.name}</strong>
                        <strong style="color: var(--color-accent-red); font-size: 1.25rem;">${formatNumber(plan.price)}ì›/ì›”</strong>
                    </div>
                    <div style="color: var(--color-text-gray); font-size: 0.875rem;">
                        ë°ì´í„°: ${plan.data} | ìŒì„±: ë¬´ì œí•œ | ë¬¸ì: ë¬´ì œí•œ
                    </div>
                </div>
            `).join('');
        }
        
        /**
         * ìš”ê¸ˆì œ í•„í„°
         */
        function filterPlans(category) {
            // ë²„íŠ¼ í™œì„±í™”
            document.querySelectorAll('.plan-category-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.category === category) {
                    btn.classList.add('active');
                }
            });
            
            // ìš”ê¸ˆì œ ì¬ë¡œë“œ
            loadPlans();
        }
        
        /**
         * ìš”ê¸ˆì œ ì„ íƒ
         */
        function selectPlanFromModal(id, name, price) {
            currentState.plan = { id, name, price };
            
            // í™”ë©´ ì—…ë°ì´íŠ¸
            document.getElementById('plan-name').textContent = name;
            document.getElementById('plan-price').textContent = formatNumber(price) + 'ì›/ì›”';
            
            // íŒì—… ë‹«ê¸°
            closePlanModal();
            
            // ê°€ê²© ì¬ê³„ì‚°
            calculatePrice();
        }
        
        /**
         * ìƒë‹´ ì‹ ì²­ íŒì—…
         */
        function openConsultModal() {
            alert('ìƒë‹´ ì‹ ì²­ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.');
        }
        
        /**
         * ì£¼ë¬¸í•˜ê¸°
         */
        function orderProduct() {
            alert('ì£¼ë¬¸ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.');
        }
    </script>
    
    <style>
        /* ì˜µì…˜ ë²„íŠ¼ ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        .option-btn {
            padding: 0.75rem 1.5rem;
            border: 2px solid var(--color-gray-300);
            border-radius: var(--radius-md);
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }
        
        .option-btn:hover {
            border-color: var(--color-primary);
        }
        
        .option-btn.active {
            border-color: var(--color-primary);
            background: var(--color-primary);
            color: white;
        }
        
        /* í• ì¸ ë°©ë²• ì˜µì…˜ ìŠ¤íƒ€ì¼ */
        .discount-option {
            padding: 1rem;
            border: 2px solid var(--color-gray-200);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .discount-option:hover {
            border-color: var(--color-primary);
        }
        
        .discount-option.active {
            border-color: var(--color-primary);
            background: rgba(54, 23, 206, 0.05);
        }
        
        /* ìš”ê¸ˆì œ ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ */
        .plan-category-btn {
            padding: 0.5rem 1rem;
            border: 1px solid var(--color-gray-300);
            border-radius: var(--radius-full);
            background: white;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.2s;
        }
        
        .plan-category-btn.active {
            background: var(--color-primary);
            color: white;
            border-color: var(--color-primary);
        }
        
        /* ëª¨ë°”ì¼ í•˜ë‹¨ë°” ì—¬ë°± */
        @media (max-width: 768px) {
            main {
                padding-bottom: 180px;
            }
        }
    </style>
</body>
</html>