# 📚 티월드스토어 웹빌더 - 프로젝트 마스터 명세서

> **버전**: v1.0  
> **작성일**: 2025-11-06  
> **상태**: 최종 확정본  
> **목적**: 모든 채팅방에서 일관된 작업물 생성을 위한 단일 진실 공급원 (Single Source of Truth)

---

## 🎯 이 명세서의 목적

### **문제 인식**
1. 채팅방마다 다른 코드/구조가 생성됨
2. 긴 코드는 파일만 생성되고 사용자는 받지 못함
3. 새 채팅에서 "이미 만들어진 것"으로 착각
4. 중간 수정 시 프로젝트 전체가 불일치

### **해결 방법**
1. **완전성**: 모든 타입, 함수, API를 명세서에 포함
2. **명확성**: 다른 채팅방 AI도 동일하게 해석 가능
3. **추적성**: 파일 생성 여부를 별도 파일로 관리
4. **불변성**: 명세서는 확정 후 변경하지 않음 (수정은 새 버전)

---

## 📋 명세서 구성

| 파일명 | 내용 | 완성도 |
|--------|------|--------|
| **00_README.md** | 이 파일 - 전체 개요 | ✅ |
| **01_기술스택_및_아키텍처.md** | 기술 스택, 시스템 구조, 데이터 플로우 | ✅ |
| **02_폴더구조_및_파일목록.md** | 전체 폴더 트리, 각 파일 설명 | ✅ |
| **03_타입정의.md** | TypeScript 인터페이스 전체 (코드 포함) | ✅ |
| **04_API명세.md** | 모든 API 엔드포인트, 요청/응답 타입 | ✅ |
| **05_디자인시스템.md** | CSS 변수 전체, 컴포넌트 스타일 | ✅ |
| **06_핵심모듈.md** | calculator, api, validators 전체 코드 | ✅ |
| **07_컴포넌트명세.md** | React 컴포넌트 props, 함수 시그니처 | ✅ |
| **08_상품상세페이지_기준.md** | device_detail_디자인용.html 기반 구조 | ✅ |
| **09_개발가이드라인.md** | 코딩 규칙, 네이밍, Git 규칙 | ✅ |
| **project-status.md** | 파일 생성 체크리스트 (별도 관리) | ⬜ |
| **CHANGELOG.md** | 버전별 변경사항 | ⬜ |

---

## 🚀 프로젝트 개요

### **기본 정보**
```yaml
프로젝트명: tworld-store-builder
목적: 아임웹 → 자체 웹빌더 전환
개발 기간: 8주 (유동적)
개발 방식: 일별 최선 (주차 계획 없음)
예산: 월 2.5만원 운영비 (도메인 제외)
목표 트래픽: 일 1000명
```

### **핵심 목표**
1. ✅ Admin에서 페이지 자유 제작 (Craft.js)
2. ✅ Google Sheets 기반 상품 관리 (기존 방식 유지)
3. ✅ 상담 시스템 (폼 → Sheets → 텔레그램)
4. ✅ 게시판 자유 생성/관리
5. ✅ 섹션 재사용 (메인 ↔ 상품상세)

---

## ✅ 확정된 의사결정

### **1. 상품 목록 페이지**
```yaml
카드 정보량: 상세 버전 (7줄)
  - 모델명
  - 할부 옵션 (skt/기기변경/공시지원/요금제)
  - 출고가 정보
  - 예상 월 납부액
그리드: 4열 (Desktop) → 3열 (Tablet) → 2열 (Mobile)
필터: 토글형 고급 검색
정렬: 가격순/최신순/인기순
```

### **2. 상품 상세 페이지**
```yaml
기준 파일: device_detail_디자인용.html
레이아웃: 좌우 분할 (45% 이미지 / 55% 옵션)
좌측:
  - 큰 메인 이미지 (Sticky)
  - 썸네일 4개 (가로 배치)
우측:
  - 색상 선택 (컬러칩)
  - 용량 선택 (버튼 그룹)
  - 요금제 선택 (드롭다운)
  - 할부 개월 선택
  - 약정 유형 (라디오)
  - 가격 상세 카드
하단: 고정 CTA 바 (가격 분해 + 버튼 2개)
```

### **3. 뱃지 시스템**
```yaml
타입: HOT / NEW / SALE 등
위치: 상품 카드 좌상단
관리: Admin에서 on/off
❌ 넘버링 뱃지 (1, 2, 3...) 사용 안 함
```

### **4. 섹션 배치**
```yaml
방식: 모든 페이지 자유 배치
예시: 메인페이지의 "사은품 섹션"을 상품상세에도 추가 가능
관리: Admin 드래그앤드롭
```

### **5. 개발 방식**
```yaml
❌ 주차별/일별 엄격한 계획 없음
✅ 매일 최선을 다해 순차 구현
✅ Phase 개념으로만 구분:
   Phase 1: 인프라 + 디자인 시스템
   Phase 2: Admin 페이지 빌더
   Phase 3: 콘텐츠 관리
   Phase 4: 상담 시스템 + 마이그레이션
```

---

## 🛠️ 기술 스택 (요약)

### **Frontend**
- React 18.2.0 + TypeScript 5.0
- Vite 5.0
- Craft.js 0.2 (페이지 빌더)
- Zustand 4.4 (상태 관리)
- Ant Design 5.12 (UI)

### **Backend**
- Firebase Functions (Node.js 18 LTS)
- Firestore (데이터베이스)
- Firebase Storage + Cloudinary (이미지)

### **Data**
- Google Sheets (마스터 데이터)
- GAS (자동 동기화)
- products.json (캐시)

### **Hosting**
- Vercel (Frontend)
- Firebase (Admin)

> 상세 버전 및 설정은 `01_기술스택_및_아키텍처.md` 참조

---

## 📁 폴더 구조 (요약)

```
tworld-store-builder/
├── admin/           # React Admin (페이지 빌더)
├── frontend/        # 생성된 정적 사이트
├── functions/       # Firebase Functions
├── shared/          # 공유 모듈 (ES6)
│   ├── design-system/  # CSS 변수, 컴포넌트 스타일
│   └── modules/        # calculator, api, validators
├── templates/       # 페이지/섹션 템플릿 (JSON)
└── migration/       # 아임웹 데이터 이전 도구
```

> 전체 트리는 `02_폴더구조_및_파일목록.md` 참조

---

## 📖 사용 방법

### **새 채팅방에서 프로젝트 시작 시**

1. **명세서 로드**
   ```
   프로젝트 명세서 폴더의 모든 파일을 읽어주세요.
   특히 03_타입정의.md, 06_핵심모듈.md를 정확히 참조하세요.
   ```

2. **상태 확인**
   ```
   project-status.md를 확인하여 어떤 파일이 생성되었는지 체크하세요.
   ```

3. **작업 시작**
   ```
   명세서에 정의된 타입, 함수 시그니처를 정확히 따라주세요.
   새로운 타입이나 함수를 추가하지 마세요.
   ```

### **파일 생성 후**

1. **체크리스트 업데이트**
   ```
   project-status.md에 [✅]로 체크
   ```

2. **사용자 확인**
   ```
   "파일을 생성했습니다: /admin/src/App.tsx"
   "내용 확인이 필요하시면 view 도구로 확인해주세요"
   ```

3. **절대 금지**
   ```
   ❌ "이전 채팅에서 이미 만들어졌습니다"라고 가정하지 말 것
   ❌ project-status.md에 [✅]가 없으면 만들어지지 않은 것
   ```

---

## 🔒 명세서 버전 관리 규칙

### **버전 정책**
```yaml
메이저 버전 (v1.0 → v2.0):
  - 기술 스택 변경
  - 폴더 구조 대폭 변경
  - 타입 정의 대폭 수정

마이너 버전 (v1.0 → v1.1):
  - 새 API 추가
  - 새 컴포넌트 추가
  - 디자인 시스템 확장

패치 버전 (v1.0 → v1.0.1):
  - 오타 수정
  - 주석 보강
  - 예시 추가
```

### **변경 프로세스**
1. 명세서 수정이 필요하면 새 버전 생성
2. CHANGELOG.md에 변경사항 기록
3. 모든 파일 헤더에 버전 번호 업데이트
4. 이전 버전은 `/archive/v1.0/` 폴더에 보관

---

## ⚠️ 중요 주의사항

### **명세서 외 코드 생성 금지**
```
❌ 명세서에 없는 타입을 만들지 말 것
❌ 명세서에 없는 함수를 만들지 말 것
❌ 명세서에 없는 컴포넌트를 만들지 말 것

✅ 필요하면 사용자에게 명세서 수정 요청
```

### **파일 생성 체크 필수**
```
✅ 파일 생성 전: project-status.md 확인
✅ 파일 생성 후: project-status.md 업데이트
✅ 사용자에게 생성 완료 보고
```

### **코드 완전성 보장**
```
✅ 긴 코드도 전체 생성 (분할 안 함)
✅ 타입 import 누락 없이
✅ 함수 구현 누락 없이
```

---

## 📞 문의 및 업데이트

### **명세서 관련 질문**
```
Q: 명세서에 없는 기능이 필요한데요?
A: 사용자에게 명세서 업데이트 요청 → 새 버전 발행

Q: 타입 정의가 애매해요
A: 03_타입정의.md의 주석과 예시 참조

Q: 어떤 파일부터 만들어야 하나요?
A: project-status.md의 순서대로
```

### **긴급 변경 사항**
```
중대한 오류 발견 시:
1. 즉시 사용자에게 알림
2. 임시 패치 버전 발행 (v1.0.1)
3. CHANGELOG에 기록
```

---

## 📚 다음 문서

1. [기술 스택 및 아키텍처](./01_기술스택_및_아키텍처.md)
2. [폴더 구조 및 파일 목록](./02_폴더구조_및_파일목록.md)
3. [타입 정의](./03_타입정의.md)
4. [API 명세](./04_API명세.md)
5. [디자인 시스템](./05_디자인시스템.md)

---

**명세서 버전**: v1.0  
**최종 확정일**: 2025-11-06  
**다음 리뷰**: 개발 중 필요 시
